{"ast":null,"code":"import _classCallCheck from \"/Users/anmolu/GitHub/testing-site/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/anmolu/GitHub/testing-site/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/anmolu/GitHub/testing-site/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/anmolu/GitHub/testing-site/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Input from './input';\nimport { INPUT_EVENT_TYPES } from '../constants';\nvar KEY_EVENTS = INPUT_EVENT_TYPES.KEY_EVENTS;\nvar DOWN_EVENT_TYPE = 'keydown';\nvar UP_EVENT_TYPE = 'keyup';\n\nvar KeyInput = /*#__PURE__*/function (_Input) {\n  _inherits(KeyInput, _Input);\n\n  var _super = _createSuper(KeyInput);\n\n  function KeyInput(element, callback, options) {\n    var _this;\n\n    _classCallCheck(this, KeyInput);\n\n    _this = _super.call(this, element, callback, options);\n\n    _this.handleEvent = function (event) {\n      // Ignore if focused on text input\n      var targetElement = event.target || event.srcElement;\n\n      if (targetElement.tagName === 'INPUT' && targetElement.type === 'text' || targetElement.tagName === 'TEXTAREA') {\n        return;\n      }\n\n      if (_this.enableDownEvent && event.type === 'keydown') {\n        _this.callback({\n          type: DOWN_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n\n      if (_this.enableUpEvent && event.type === 'keyup') {\n        _this.callback({\n          type: UP_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n    };\n\n    _this.enableDownEvent = _this.options.enable;\n    _this.enableUpEvent = _this.options.enable;\n    _this.events = (_this.options.events || []).concat(KEY_EVENTS);\n    element.tabIndex = _this.options.tabIndex || 0;\n    element.style.outline = 'none';\n\n    _this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent);\n    });\n\n    return _this;\n  }\n\n  _createClass(KeyInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n    /**\n     * Enable this input (begin processing events)\n     * if the specified event type is among those handled by this input.\n     */\n\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === DOWN_EVENT_TYPE) {\n        this.enableDownEvent = enabled;\n      }\n\n      if (eventType === UP_EVENT_TYPE) {\n        this.enableUpEvent = enabled;\n      }\n    }\n  }]);\n\n  return KeyInput;\n}(Input);\n\nexport { KeyInput as default };","map":{"version":3,"mappings":";;;;AACA,OAAOA,KAAP,MAAkC,SAAlC;AAEA,SAAQC,iBAAR,QAAgC,cAAhC;AAEA,IAAOC,UAAP,GAAqBD,iBAArB,CAAOC,UAAP;AACA,IAAMC,eAAe,GAAG,SAAxB;AACA,IAAMC,aAAa,GAAG,OAAtB;;IAOqBC,Q;;;;;EAMnB,kBACEC,OADF,EAEEC,QAFF,EAGEC,OAHF,EAG0B;IAAA;;IAAA;;IAExB,0BAAMF,OAAN,EAAeC,QAAf,EAAyBC,OAAzB;;IA6BF,oBAAc,UAACC,KAAD,EAAyB;MACrC;MACA,IAAMC,aAAa,GAAID,KAAK,CAACE,MAAN,IAAgBF,KAAK,CAACG,UAA7C;;MACA,IACGF,aAAa,CAACG,OAAd,KAA0B,OAA1B,IAAsCH,aAAkC,CAACI,IAAnC,KAA4C,MAAnF,IACAJ,aAAa,CAACG,OAAd,KAA0B,UAF5B,EAGE;QACA;MACD;;MAED,IAAI,MAAKE,eAAL,IAAwBN,KAAK,CAACK,IAAN,KAAe,SAA3C,EAAsD;QACpD,MAAKP,QAAL,CAAc;UACZO,IAAI,EAAEX,eADM;UAEZa,QAAQ,EAAEP,KAFE;UAGZQ,GAAG,EAAER,KAAK,CAACQ,GAHC;UAIZN,MAAM,EAAEF,KAAK,CAACE;QAJF,CAAd;MAMD;;MAED,IAAI,MAAKO,aAAL,IAAsBT,KAAK,CAACK,IAAN,KAAe,OAAzC,EAAkD;QAChD,MAAKP,QAAL,CAAc;UACZO,IAAI,EAAEV,aADM;UAEZY,QAAQ,EAAEP,KAFE;UAGZQ,GAAG,EAAER,KAAK,CAACQ,GAHC;UAIZN,MAAM,EAAEF,KAAK,CAACE;QAJF,CAAd;MAMD;IACF,CA3BD;;IA3BE,MAAKI,eAAL,GAAuB,MAAKP,OAAL,CAAaW,MAApC;IACA,MAAKD,aAAL,GAAqB,MAAKV,OAAL,CAAaW,MAAlC;IAEA,MAAKC,MAAL,GAAc,CAAC,MAAKZ,OAAL,CAAaY,MAAb,IAAuB,EAAxB,EAA4BC,MAA5B,CAAmCnB,UAAnC,CAAd;IAEAI,OAAO,CAACgB,QAAR,GAAmB,MAAKd,OAAL,CAAac,QAAb,IAAyB,CAA5C;IACAhB,OAAO,CAACiB,KAAR,CAAcC,OAAd,GAAwB,MAAxB;;IACA,MAAKJ,MAAL,CAAYK,OAAZ,CAAoB,eAAK;MAAA,OAAInB,OAAO,CAACoB,gBAAR,CAAyBjB,KAAzB,EAAgC,MAAKkB,WAArC,CAAJ;IAAA,CAAzB;;IAXwB;EAYzB;;;;WAED,mBAAO;MAAA;;MACL,KAAKP,MAAL,CAAYK,OAAZ,CAAoB,eAAK;QAAA,OAAI,MAAI,CAACnB,OAAL,CAAasB,mBAAb,CAAiCnB,KAAjC,EAAwC,MAAI,CAACkB,WAA7C,CAAJ;MAAA,CAAzB;IACD;IAED;;;;;;;WAIA,yBAAgBE,SAAhB,EAAmCC,OAAnC,EAAmD;MACjD,IAAID,SAAS,KAAK1B,eAAlB,EAAmC;QACjC,KAAKY,eAAL,GAAuBe,OAAvB;MACD;;MACD,IAAID,SAAS,KAAKzB,aAAlB,EAAiC;QAC/B,KAAKc,aAAL,GAAqBY,OAArB;MACD;IACF;;;;EAtCmC9B,K;;SAAjBK,Q","names":["Input","INPUT_EVENT_TYPES","KEY_EVENTS","DOWN_EVENT_TYPE","UP_EVENT_TYPE","KeyInput","element","callback","options","event","targetElement","target","srcElement","tagName","type","enableDownEvent","srcEvent","key","enableUpEvent","enable","events","concat","tabIndex","style","outline","forEach","addEventListener","handleEvent","removeEventListener","eventType","enabled"],"sourceRoot":"","sources":["../../../src/inputs/key-input.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}